const modalFeedBack=document.querySelector(".modal-feedback"),emailUsButton=document.querySelector(".email-us-button"),feedBackForm=modalFeedBack.querySelector(".feedback-form"),userName=modalFeedBack.querySelector(".modal-username"),userEmail=modalFeedBack.querySelector(".user-email"),userMessage=modalFeedBack.querySelector(".user-message"),modalFeedBackCloseButton=modalFeedBack.querySelector(".close-button");let isStorageSupport=!0,storageName="",storageUserEmail="",storageUserMessage="";try{storageName=localStorage.getItem("userName"),storageUserEmail=localStorage.getItem("userEmail"),storageUserMessage=localStorage.getItem("userMessage")}catch(e){isStorageSupport=!1}emailUsButton.addEventListener("click",function(e){e.preventDefault(),modalFeedBack.classList.add("modal-show"),userName.focus(),storageName&&(userName.value=storageName,userEmail.focus()),storageUserEmail&&(userEmail.value=storageUserEmail,userMessage.focus())}),modalFeedBackCloseButton.addEventListener("click",function(e){e.preventDefault(),modalFeedBack.classList.remove("modal-show"),modalFeedBack.classList.remove("modal-error")}),feedBackForm.addEventListener("submit",function(e){userName.value&&userEmail.value&&userMessage.value?(localStorage.setItem("userName",userName.value),localStorage.setItem("userEmail",userEmail.value),localStorage.setItem("userMessage",userMessage.value)):(e.preventDefault(),modalFeedBack.classList.remove("modal-error"),modalFeedBack.offsetWidth=modalFeedBack.offsetWidth,modalFeedBack.classList.add("modal-error"))});const popupMap=document.querySelector(".modal-popup-map"),popupMapCloseButton=popupMap.querySelector(".close-button"),map=document.querySelector(".map");map.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("modal-show")}),popupMapCloseButton.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modalFeedBack.classList.contains("modal-show")&&(e.preventDefault(),modalFeedBack.classList.remove("modal-show"),modalFeedBack.classList.remove("modal-error")),popupMap.classList.contains("modal-show")&&(e.preventDefault(),popupMap.classList.remove("modal-show")))});